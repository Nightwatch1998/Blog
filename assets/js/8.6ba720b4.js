(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{284:function(e,r,t){"use strict";t.r(r);var a=t(10),s=Object(a.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"nginx学习记录"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#nginx学习记录"}},[e._v("#")]),e._v(" Nginx学习记录")]),e._v(" "),r("h2",{attrs:{id:"反向代理案例"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#反向代理案例"}},[e._v("#")]),e._v(" 反向代理案例")]),e._v(" "),r("p",[e._v("geoserver屏蔽浏览器端对管理员界面的访问，只提供地图服务。")]),e._v(" "),r("h3",{attrs:{id:"方案一-推荐"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#方案一-推荐"}},[e._v("#")]),e._v(" 方案一（推荐）")]),e._v(" "),r("p",[e._v("geoserver部署在8080端口，另起一个8081端口，地图服务代理到8081")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("    server {\n        listen 8081;\n        server_name  test.com;\n\n        location /api {\n            proxy_pass http://127.0.0.1:8080/api;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n    }\n")])])]),r("h3",{attrs:{id:"方案二"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#方案二"}},[e._v("#")]),e._v(" 方案二")]),e._v(" "),r("p",[e._v("把8080端口代理到8081，同时对管理员界面进行重定向，例如错误页面")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("    server {\n        listen 8081;\n        server_name  test.com;\n\n        location / {\n            proxy_pass http://127.0.0.1:8080;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n\n        location /geoserver/web {\n            rewrite ^/geoserver/web(/.*)?$ error.html permanent;\n        }\n    }\n")])])]),r("p",[e._v("或者可以直接和前端的代码写在一起")])])}),[],!1,null,null,null);r.default=s.exports}}]);